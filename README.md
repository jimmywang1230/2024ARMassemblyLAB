# 112-2 Design of Embedded Microprocessor Systems

M11207509 ç‹ä½‘å¼·

### é¡Œç›®: æƒé›·å…ˆç”Ÿ (è¸©åœ°é›·)

### ç°¡ä»‹

Bash æ˜¯ Linux å’Œ Unix ç³»çµ±ä¸Šçš„ä¸€ç¨®å¸¸ç”¨å‘½ä»¤è¡Œè§£é‡‹å™¨ï¼Œä½¿ç”¨ Bash èªè¨€ç·¨å¯«çš„è…³æœ¬æ–‡ä»¶ï¼Œç”¨æ–¼è‡ªå‹•åŒ–åŸ·è¡Œå‘½ä»¤ã€ç®¡ç†ç³»çµ±ä»»å‹™å’Œè™•ç†æ–‡æœ¬ã€‚æ”¯æ´ Unix å‘½ä»¤ã€è®Šæ•¸ã€æ¢ä»¶èªå¥ã€è¿´åœˆå’Œå‡½æ•¸ã€‚Bash è…³æœ¬å®ƒåœ¨ç³»çµ±ç®¡ç†ä¸­éå¸¸æœ‰ç”¨ï¼Œå¯è‡ªå‹•åŒ–å‚™ä»½ã€ç›£æ§ã€å®‰è£ç­‰ä»»å‹™ï¼Œä¹Ÿå¸¸ç”¨æ–¼æ–‡æœ¬è™•ç†å’Œè³‡æ–™åˆ†æã€‚

ã€Šè¸©åœ°é›·ã€‹ï¼ˆMinesweeperï¼‰æ˜¯ä¸€æ¬¾ç¶“å…¸çš„ç›Šæ™ºéŠæˆ²ï¼Œåœ¨è€ƒé©—ç©å®¶çš„é‚è¼¯æ¨ç†èƒ½åŠ›ã€‚éŠæˆ²é–‹å§‹æ™‚ï¼Œç©å®¶é¢å‰æ˜¯ä¸€å€‹çŸ©å½¢ç¶²æ ¼ï¼Œåœ°é›·éš¨æ©Ÿè¢«æ”¾ç½®åœ¨è£¡é¢ã€‚ç©å®¶çš„ç›®æ¨™æ˜¯æ‰“é–‹æ‰€æœ‰ä¸å«åœ°é›·çš„æ–¹æ ¼ï¼ŒåŒæ™‚é¿å…é»æ“Šåˆ°åœ°é›·ã€‚å¦‚æœæ‰“é–‹çš„æ–¹æ ¼æ²’æœ‰åœ°é›·ï¼Œæœƒé¡¯ç¤ºä¸€å€‹æ•¸å­—ï¼Œé€™å€‹æ•¸å­—ä»£è¡¨ç›¸é„°çš„å…«å€‹æ–¹æ ¼ä¸­æœ‰å¤šå°‘å€‹åœ°é›·ã€‚å¯ä»¥æ ¹æ“šé€™äº›æ•¸å­—é€²è¡Œæ¨è«–æ‰¾å‡ºæ‰€æœ‰å®‰å…¨çš„æ–¹æ ¼ï¼›å¦‚æœç©å®¶é»æ“Šåˆ°åœ°é›·ï¼ŒéŠæˆ²å‰‡æœƒç«‹å³çµæŸã€‚

ç‚ºäº†å¢åŠ éŠæˆ²æŒ‘æˆ°æ€§ï¼Œæœƒåœ¨éŠæˆ²æˆåŠŸæˆ–å¤±æ•—æ™‚ï¼Œå°å‡ºç©å®¶æ­éœ²æ¬¡æ•¸èˆ‡æ‰“é–‹çš„æ–¹æ ¼ï¼Œè®“ç©å®¶æ€è€ƒå¦‚ä½•ç”¨æœ€å°‘çš„è¼¸å…¥é–‹å•Ÿæœ€å¤šçš„æ–¹æ ¼ã€‚

### éŠæˆ²å¯¦ç¾

- **ç¨‹å¼èªè¨€:** Bash Shell Script
- **éŠæˆ²ç›®æ¨™:**
    - åœ¨10*10çš„çŸ©é™£ä¸­è—æœ‰ã€Œ10é¡†åœ°é›·ğŸ’£ã€ã€‚
    - æ¸…é™¤æ‰€æœ‰ä¸å«åœ°é›·çš„åº§æ¨™ï¼Œé¿å…é»æ“Šåˆ°åœ°é›·ã€‚
- **æ“ä½œæ–¹å¼:**
    - å¡«å¯«ğŸ“Œåº§æ¨™ï¼Œä»¥revealè©²ä½ç½®çš„æ–¹æ ¼ã€‚
    ex: col=a, row=0 å‰‡è¼¸å…¥a0
    - é–±è®€å®ŒéŠæˆ²è¦å‰‡é»æ“ŠEnter é–‹å§‹éŠæˆ²
- ç³»çµ±æµç¨‹åœ–:
  
    ![alt text](https://github.com/jimmywang1230/2024ARMassemblyLAB/blob/main/Final/Flow1.png)
    ![alt text](https://github.com/jimmywang1230/2024ARMassemblyLAB/blob/main/Final/Flow2.png)
    
- ç¨‹å¼ç¢¼è§£èªª:
    - ä¸»ç¨‹åº
        1. å¦‚æœ^Cé¡¯ç¤ºéŠæˆ²é€€å‡ºè¨Šæ¯:
            
             `trap "printf '\n\n%s\n\n' 'QAQ!!! ä½ é€€å‡ºéŠæˆ²äº†!!'; exit 1" INT`
            
        2. æŠŠç•«é¢æ¸…ç©º
            
             `printf "\e[2J\e[Hâ€`
            
        3.  å°å‡ºéŠæˆ²è¦å‰‡ `game_rule`
        4.  read ä½¿ç”¨è€…è¼¸å…¥å¦‚æœ é»æ“ŠEnter é–‹å§‹éŠæˆ²
            
            `read -p "é»æ“Š Enter é–‹å§‹éŠæˆ²å§!!â€`
            
        5.  åˆå§‹åŒ–åœ°é›·ä½ç½® `initialize_mines`
        6. å°å‡ºåœ°é›·å ´  `plough`
        7. å°å‡ºéŠæˆ²æé†’ï¼Œä¸¦`get_coordinates`å–å¾—ç©å®¶è¼¸å…¥åº§æ¨™
        
        ```
        while true; do
          printf "å°æé†’: æ“ä½œæ–¹å¼é¸æ“‡è¼¸å…¥è¡Œåˆ—åº§æ¨™ col- a, row- 6 -> a6 \n\n"
          read -p "è«‹è¼¸å…¥è¦æ‰“é–‹çš„åº§æ¨™:  " opt
          get_coordinates
        done
        ```
        
    - è®Šæ•¸
        
        `score`: è¢«æ­éœ²çš„æ–¹æ ¼
        
        `mine_count`: åœ°é›·æ•¸é‡
        
        `input_count`: ç©å®¶è¼¸å…¥æ¬¡æ•¸
        
        `board`: å­˜æ”¾éŠæˆ²çš„é™£åˆ—
        
        `revealed`: å­˜æ”¾æ‰“é–‹éçš„æ–¹æ ¼çš„é™£åˆ—
        
        `mines`: å­˜æ”¾åœ°é›·ä½ç½®é™£åˆ—
        
    - å‡½å¼
        
        game_rule(): éŠæˆ²è¦å‰‡
        
        initialize_mines(): åˆå§‹åŒ–åœ°é›·ä½ç½®
        
        plough(): å°å‡ºåœ°é›·å ´
        
        get_coordinates(): è™•ç†ç”¨æˆ¶è¼¸å…¥
        
        show_all_mines(): é¡¯ç¤ºæ‰€æœ‰åœ°é›·
        
        reveal_cell(): æ‰“é–‹cell
        
        count_nearby_mines(): è¨ˆç®—ç›¸é„°åœ°é›·æ•¸é‡
        
        reveal_adjacent_cells(): å¦‚æœæ‰“é–‹çš„ç‚º0æ­éœ²ç›¸é„°cell
